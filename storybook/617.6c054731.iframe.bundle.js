"use strict";(self.webpackChunkwingman_fe=self.webpackChunkwingman_fe||[]).push([[617],{"../node_modules/.pnpm/braid-design-system@34.0.1_@types+react@18.3.27_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/braid-design-system/dist/lib/components/Alert/Alert.mjs"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{F:()=>Alert});var jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"),useIcon=__webpack_require__("../node_modules/.pnpm/braid-design-system@34.0.1_@types+react@18.3.27_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/braid-design-system/dist/lib/hooks/useIcon/index.mjs"),Box=__webpack_require__("../node_modules/.pnpm/braid-design-system@34.0.1_@types+react@18.3.27_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/braid-design-system/dist/lib/components/Box/Box.mjs"),Column=__webpack_require__("../node_modules/.pnpm/braid-design-system@34.0.1_@types+react@18.3.27_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/braid-design-system/dist/lib/components/Column/Column.mjs"),Columns=__webpack_require__("../node_modules/.pnpm/braid-design-system@34.0.1_@types+react@18.3.27_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/braid-design-system/dist/lib/components/Columns/Columns.mjs"),Overlay=__webpack_require__("../node_modules/.pnpm/braid-design-system@34.0.1_@types+react@18.3.27_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/braid-design-system/dist/lib/components/private/Overlay/Overlay.mjs"),buildDataAttributes=__webpack_require__("../node_modules/.pnpm/braid-design-system@34.0.1_@types+react@18.3.27_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/braid-design-system/dist/lib/components/private/buildDataAttributes.mjs"),textAlignedToIcon_standard=(__webpack_require__('../node_modules/.pnpm/braid-design-system@34.0.1_@types+react@18.3.27_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/braid-design-system/dist/lib/components/node_modules/.pnpm/braid-design-system@34.0.1_@types+react@18.3.27_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/braid-design-system/dist/lib/components/private/touchable/virtualTouchable.css.mjs.vanilla.css!=!../node_modules/.pnpm/@vanilla-extract+webpack-plugin@2.3.25_babel-plugin-macros@3.1.0_webpack@5.104.1_@swc+core@1.15.10_/node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{"fileName":"../node_modules/.pnpm/braid-design-system@34.0.1_@types+react@18.3.27_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/braid-design-system/dist/lib/components/private/touchable/virtualTouchable.css.mjs.vanilla.css","source":"Lmp4d3RkcTAgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQouanh3dGRxMDo6YWZ0ZXIgewogIGNvbnRlbnQ6ICIiOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBtaW4taGVpZ2h0OiA0NHB4OwogIG1pbi13aWR0aDogNDRweDsKICBoZWlnaHQ6IDEwMCU7CiAgd2lkdGg6IDEwMCU7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7CiAgdG9wOiA1MCU7CiAgbGVmdDogNTAlOwp9CltkYXRhLWJyYWlkLWRlYnVnXSAuanh3dGRxMDo6YWZ0ZXIgewogIGJhY2tncm91bmQ6IHJlZDsKICBvcGFjaXR5OiAwLjI7Cn0"}!../node_modules/.pnpm/@vanilla-extract+webpack-plugin@2.3.25_babel-plugin-macros@3.1.0_webpack@5.104.1_@swc+core@1.15.10_/node_modules/@vanilla-extract/webpack-plugin/extracted.js'),"amxzm20"),IconCritical=__webpack_require__("../node_modules/.pnpm/braid-design-system@34.0.1_@types+react@18.3.27_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/braid-design-system/dist/lib/components/icons/IconCritical/IconCritical.mjs"),IconCaution=__webpack_require__("../node_modules/.pnpm/braid-design-system@34.0.1_@types+react@18.3.27_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/braid-design-system/dist/lib/components/icons/IconCaution/IconCaution.mjs"),IconPromote=__webpack_require__("../node_modules/.pnpm/braid-design-system@34.0.1_@types+react@18.3.27_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/braid-design-system/dist/lib/components/icons/IconPromote/IconPromote.mjs"),IconInfo=__webpack_require__("../node_modules/.pnpm/braid-design-system@34.0.1_@types+react@18.3.27_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/braid-design-system/dist/lib/components/icons/IconInfo/IconInfo.mjs"),IconPositive=__webpack_require__("../node_modules/.pnpm/braid-design-system@34.0.1_@types+react@18.3.27_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/braid-design-system/dist/lib/components/icons/IconPositive/IconPositive.mjs"),IconClear=__webpack_require__("../node_modules/.pnpm/braid-design-system@34.0.1_@types+react@18.3.27_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/braid-design-system/dist/lib/components/icons/IconClear/IconClear.mjs");const backgroundForTone={promote:"promoteLight",info:"infoLight",positive:"positiveLight",caution:"cautionLight",critical:"criticalLight"},icons={positive:IconPositive.$,info:IconInfo.G,promote:IconPromote.S,caution:IconCaution.h,critical:IconCritical.l},Alert=_ref=>{let{tone="info",children,id,closeLabel="Close",data,onClose,...restProps}=_ref;const Icon=icons[tone];return(0,jsx_runtime.jsx)(Box.a,{id,background:backgroundForTone[tone],paddingY:"medium",paddingX:"gutter",borderRadius:"large",position:"relative",role:"alert","aria-live":"polite",textAlign:"left",...(0,buildDataAttributes.a)({data,validateRestProps:restProps}),children:(0,jsx_runtime.jsxs)(Columns.e,{space:"small",children:[(0,jsx_runtime.jsx)(Column.V,{width:"content",children:(0,jsx_runtime.jsx)(Icon,{tone})}),(0,jsx_runtime.jsx)(Column.V,{children:(0,jsx_runtime.jsx)(Box.a,{className:textAlignedToIcon_standard,children})}),onClose?(0,jsx_runtime.jsx)(Column.V,{width:"content",children:(0,jsx_runtime.jsxs)(Box.a,{component:"button","aria-label":closeLabel,borderRadius:"full",cursor:"pointer",position:"relative",onClick:onClose,transition:"touchable",transform:{active:"touchable"},display:"flex",alignItems:"center",justifyContent:"center",className:["_1jyjn4n0 jxwtdq0",(0,useIcon.M_)()],children:[(0,jsx_runtime.jsx)(Overlay.h,{component:"span",background:"surface",transition:"fast",borderRadius:"full",className:"_1jyjn4n1"}),(0,jsx_runtime.jsx)(Box.a,{component:"span",display:"block",zIndex:1,position:"relative",children:(0,jsx_runtime.jsx)(IconClear.n,{size:"fill",tone})})]})}):null]})})}},"../node_modules/.pnpm/braid-design-system@34.0.1_@types+react@18.3.27_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/braid-design-system/dist/lib/components/useColor/useColor.mjs"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{b:()=>useColor});var _BraidProvider_BraidThemeContext_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/braid-design-system@34.0.1_@types+react@18.3.27_babel-plugin-macros@3.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/braid-design-system/dist/lib/components/BraidProvider/BraidThemeContext.mjs");const useColor=()=>{const{foreground,background:{surfaceDark:_,bodyDark:__,...background}}=(0,_BraidProvider_BraidThemeContext_mjs__WEBPACK_IMPORTED_MODULE_0__.j)().color;return{foreground,background}}},"../node_modules/.pnpm/pigeon-maps@0.22.1_react@18.3.1/node_modules/pigeon-maps/lib/index.esm.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{T5:()=>Map,hJ:()=>Overlay,pH:()=>Marker,pj:()=>ZoomControl});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function parentHasClass(element,className){for(;element;){if(element.classList&&element.classList.contains(className))return!0;element=element.parentElement}return!1}function parentPosition(element){var rect=element.getBoundingClientRect();return{x:rect.left,y:rect.top}}function osm(x,y,z){return"https://tile.openstreetmap.org/"+z+"/"+x+"/"+y+".png"}var NOOP=function NOOP(){return!0},lng2tile=function lng2tile(lon,zoom){return(lon+180)/360*Math.pow(2,zoom)},lat2tile=function lat2tile(lat,zoom){return(1-Math.log(Math.tan(lat*Math.PI/180)+1/Math.cos(lat*Math.PI/180))/Math.PI)/2*Math.pow(2,zoom)};function tile2lng(x,z){return x/Math.pow(2,z)*360-180}function tile2lat(y,z){var n=Math.PI-2*Math.PI*y/Math.pow(2,z);return 180/Math.PI*Math.atan(.5*(Math.exp(n)-Math.exp(-n)))}function getMousePixel(dom,event){var parent=parentPosition(dom);return[event.clientX-parent.x,event.clientY-parent.y]}var timeStart,absoluteMinMax=[tile2lat(Math.pow(2,10),10),tile2lat(0,10),tile2lng(0,10),tile2lng(Math.pow(2,10),10)],hasWindow="undefined"!=typeof window,performanceNow=hasWindow&&window.performance&&window.performance.now?function(){return window.performance.now()}:(timeStart=(new Date).getTime(),function(){return(new Date).getTime()-timeStart}),requestAnimationFrame=function requestAnimationFrame(callback){return hasWindow?(window.requestAnimationFrame||window.setTimeout)(callback):(callback((new Date).getTime()),null)},cancelAnimationFrame=function cancelAnimationFrame(animFrame){return!(!hasWindow||!animFrame)&&(window.cancelAnimationFrame||window.clearTimeout)(animFrame)};function srcSet(dprs,url,x,y,z){return dprs&&0!==dprs.length?dprs.map(function(dpr){return url(x,y,z,dpr)+(1===dpr?"":" "+dpr+"x")}).join(", "):""}var Map=function(_Component){function Map(props){var _ref2,_props$defaultZoom,_ref3,_props$defaultCenter,_ref4,_props$width,_ref5,_props$height,_this;return _defineProperty(_assertThisInitialized(_this=_Component.call(this,props)||this),"_containerRef",void 0),_defineProperty(_assertThisInitialized(_this),"_mousePosition",void 0),_defineProperty(_assertThisInitialized(_this),"_loadTracker",void 0),_defineProperty(_assertThisInitialized(_this),"_dragStart",null),_defineProperty(_assertThisInitialized(_this),"_mouseDown",!1),_defineProperty(_assertThisInitialized(_this),"_moveEvents",[]),_defineProperty(_assertThisInitialized(_this),"_lastClick",null),_defineProperty(_assertThisInitialized(_this),"_lastTap",null),_defineProperty(_assertThisInitialized(_this),"_lastWheel",null),_defineProperty(_assertThisInitialized(_this),"_touchStartPixel",null),_defineProperty(_assertThisInitialized(_this),"_touchStartMidPoint",null),_defineProperty(_assertThisInitialized(_this),"_touchStartDistance",null),_defineProperty(_assertThisInitialized(_this),"_secondTouchEnd",null),_defineProperty(_assertThisInitialized(_this),"_warningClearTimeout",null),_defineProperty(_assertThisInitialized(_this),"_isAnimating",!1),_defineProperty(_assertThisInitialized(_this),"_animationStart",null),_defineProperty(_assertThisInitialized(_this),"_animationEnd",null),_defineProperty(_assertThisInitialized(_this),"_zoomStart",null),_defineProperty(_assertThisInitialized(_this),"_centerTarget",null),_defineProperty(_assertThisInitialized(_this),"_zoomTarget",null),_defineProperty(_assertThisInitialized(_this),"_zoomAround",null),_defineProperty(_assertThisInitialized(_this),"_animFrame",null),_defineProperty(_assertThisInitialized(_this),"_boundsSynced",!1),_defineProperty(_assertThisInitialized(_this),"_minMaxCache",null),_defineProperty(_assertThisInitialized(_this),"_lastZoom",void 0),_defineProperty(_assertThisInitialized(_this),"_lastCenter",void 0),_defineProperty(_assertThisInitialized(_this),"_centerStart",void 0),_defineProperty(_assertThisInitialized(_this),"_resizeObserver",null),_defineProperty(_assertThisInitialized(_this),"updateWidthHeight",function(){if(_this._containerRef){var rect=_this._containerRef.getBoundingClientRect();if(rect&&rect.width>0&&rect.height>0)return _this.setState({width:rect.width,height:rect.height}),!0}return!1}),_defineProperty(_assertThisInitialized(_this),"wa",function(){var _window;return(_window=window).addEventListener.apply(_window,arguments)}),_defineProperty(_assertThisInitialized(_this),"wr",function(){var _window2;return(_window2=window).removeEventListener.apply(_window2,arguments)}),_defineProperty(_assertThisInitialized(_this),"bindMouseEvents",function(){_this.wa("mousedown",_this.handleMouseDown),_this.wa("mouseup",_this.handleMouseUp),_this.wa("mousemove",_this.handleMouseMove)}),_defineProperty(_assertThisInitialized(_this),"bindTouchEvents",function(){_this.wa("touchstart",_this.handleTouchStart,{passive:!1}),_this.wa("touchmove",_this.handleTouchMove,{passive:!1}),_this.wa("touchend",_this.handleTouchEnd,{passive:!1})}),_defineProperty(_assertThisInitialized(_this),"unbindMouseEvents",function(){_this.wr("mousedown",_this.handleMouseDown),_this.wr("mouseup",_this.handleMouseUp),_this.wr("mousemove",_this.handleMouseMove)}),_defineProperty(_assertThisInitialized(_this),"unbindTouchEvents",function(){_this.wr("touchstart",_this.handleTouchStart),_this.wr("touchmove",_this.handleTouchMove),_this.wr("touchend",_this.handleTouchEnd)}),_defineProperty(_assertThisInitialized(_this),"bindResizeEvent",function(){_this.wa("resize",_this.updateWidthHeight)}),_defineProperty(_assertThisInitialized(_this),"unbindResizeEvent",function(){_this.wr("resize",_this.updateWidthHeight)}),_defineProperty(_assertThisInitialized(_this),"bindWheelEvent",function(){_this._containerRef&&_this._containerRef.addEventListener("wheel",_this.handleWheel,{passive:!1})}),_defineProperty(_assertThisInitialized(_this),"unbindWheelEvent",function(){_this._containerRef&&_this._containerRef.removeEventListener("wheel",_this.handleWheel)}),_defineProperty(_assertThisInitialized(_this),"setCenterZoomTarget",function(center,zoom,fromProps,zoomAround,animationDuration){if(void 0===fromProps&&(fromProps=!1),void 0===zoomAround&&(zoomAround=null),void 0===animationDuration&&(animationDuration=300),_this.props.animate&&(!fromProps||_this.distanceInScreens(center,zoom,_this.state.center,_this.state.zoom)<=_this.props.animateMaxScreens)){if(_this._isAnimating){cancelAnimationFrame(_this._animFrame);var _this$animationStep=_this.animationStep(performanceNow()),centerStep=_this$animationStep.centerStep,zoomStep=_this$animationStep.zoomStep;_this._centerStart=centerStep,_this._zoomStart=zoomStep}else _this._isAnimating=!0,_this._centerStart=_this.limitCenterAtZoom([_this._lastCenter[0],_this._lastCenter[1]],_this._lastZoom),_this._zoomStart=_this._lastZoom,_this.onAnimationStart();_this._animationStart=performanceNow(),_this._animationEnd=_this._animationStart+animationDuration,zoomAround?(_this._zoomAround=zoomAround,_this._centerTarget=_this.calculateZoomCenter(_this._lastCenter,zoomAround,_this._lastZoom,zoom)):(_this._zoomAround=null,_this._centerTarget=center),_this._zoomTarget=zoom,_this._animFrame=requestAnimationFrame(_this.animate)}else if(_this.stopAnimating(),zoomAround){var _center=_this.calculateZoomCenter(_this._lastCenter,zoomAround,_this._lastZoom,zoom);_this.setCenterZoom(_center,zoom,fromProps)}else _this.setCenterZoom(center||_this.state.center,zoom,fromProps)}),_defineProperty(_assertThisInitialized(_this),"setCenterZoomForChildren",function(center,zoom){_this.setCenterZoomTarget(center||_this.state.center,zoom||_this.state.zoom,!0)}),_defineProperty(_assertThisInitialized(_this),"distanceInScreens",function(centerTarget,zoomTarget,center,zoom){var _this$state=_this.state,width=_this$state.width,height=_this$state.height,l1=_this.latLngToPixel(center,center,zoom),l2=_this.latLngToPixel(centerTarget,center,zoom),z1=_this.latLngToPixel(center,center,zoomTarget),z2=_this.latLngToPixel(centerTarget,center,zoomTarget),w=(Math.abs(l1[0]-l2[0])+Math.abs(z1[0]-z2[0]))/2/width,h=(Math.abs(l1[1]-l2[1])+Math.abs(z1[1]-z2[1]))/2/height;return Math.sqrt(w*w+h*h)}),_defineProperty(_assertThisInitialized(_this),"animationStep",function(timestamp){if(!(_this._animationEnd&&_this._animationStart&&_this._zoomTarget&&_this._zoomStart&&_this._centerStart&&_this._centerTarget))return{centerStep:_this.state.center,zoomStep:_this.state.zoom};var length=_this._animationEnd-_this._animationStart,percentage=function easeOutQuad(t){return t*(2-t)}(Math.max(timestamp-_this._animationStart,0)/length),zoomDiff=(_this._zoomTarget-_this._zoomStart)*percentage,zoomStep=_this._zoomStart+zoomDiff;return _this._zoomAround?{centerStep:_this.calculateZoomCenter(_this._centerStart,_this._zoomAround,_this._zoomStart,zoomStep),zoomStep}:{centerStep:[_this._centerStart[0]+(_this._centerTarget[0]-_this._centerStart[0])*percentage,_this._centerStart[1]+(_this._centerTarget[1]-_this._centerStart[1])*percentage],zoomStep}}),_defineProperty(_assertThisInitialized(_this),"animate",function(timestamp){if(!_this._animationEnd||timestamp>=_this._animationEnd)_this._isAnimating=!1,_this.setCenterZoom(_this._centerTarget,_this._zoomTarget,!0),_this.onAnimationStop();else{var _this$animationStep2=_this.animationStep(timestamp),centerStep=_this$animationStep2.centerStep,zoomStep=_this$animationStep2.zoomStep;_this.setCenterZoom(centerStep,zoomStep),_this._animFrame=requestAnimationFrame(_this.animate)}}),_defineProperty(_assertThisInitialized(_this),"stopAnimating",function(){_this._isAnimating&&(_this._isAnimating=!1,_this.onAnimationStop(),cancelAnimationFrame(_this._animFrame))}),_defineProperty(_assertThisInitialized(_this),"limitCenterAtZoom",function(center,zoom){var minMax=_this.getBoundsMinMax(zoom||_this.state.zoom);return[Math.max(Math.min(!center||isNaN(center[0])?_this.state.center[0]:center[0],minMax[1]),minMax[0]),Math.max(Math.min(!center||isNaN(center[1])?_this.state.center[1]:center[1],minMax[3]),minMax[2])]}),_defineProperty(_assertThisInitialized(_this),"onAnimationStart",function(){_this.props.onAnimationStart&&_this.props.onAnimationStart()}),_defineProperty(_assertThisInitialized(_this),"onAnimationStop",function(){_this.props.onAnimationStop&&_this.props.onAnimationStop()}),_defineProperty(_assertThisInitialized(_this),"setCenterZoom",function(center,zoom,animationEnded){void 0===animationEnded&&(animationEnded=!1);var limitedCenter=_this.limitCenterAtZoom(center,zoom);if(zoom&&Math.round(_this.state.zoom)!==Math.round(zoom)){var tileValues=_this.tileValues(_this.state),nextValues=_this.tileValues({center:limitedCenter,zoom,width:_this.state.width,height:_this.state.height}),oldTiles=_this.state.oldTiles;_this.setState({oldTiles:oldTiles.filter(function(o){return o.roundedZoom!==tileValues.roundedZoom}).concat(tileValues)},NOOP);for(var loadTracker={},x=nextValues.tileMinX;x<=nextValues.tileMaxX;x++)for(var y=nextValues.tileMinY;y<=nextValues.tileMaxY;y++){loadTracker[x+"-"+y+"-"+nextValues.roundedZoom]=!1}_this._loadTracker=loadTracker}_this.setState({center:limitedCenter,zoom:zoom||_this.state.zoom},NOOP);var maybeZoom=_this.props.zoom?_this.props.zoom:_this._lastZoom,maybeCenter=_this.props.center?_this.props.center:_this._lastCenter;zoom&&(animationEnded||Math.abs(maybeZoom-zoom)>.001||Math.abs(maybeCenter[0]-limitedCenter[0])>1e-5||Math.abs(maybeCenter[1]-limitedCenter[1])>1e-5)&&(_this._lastZoom=zoom,_this._lastCenter=[].concat(limitedCenter),_this.syncToProps(limitedCenter,zoom))}),_defineProperty(_assertThisInitialized(_this),"getBoundsMinMax",function(zoom){if("center"===_this.props.limitBounds)return absoluteMinMax;var _this$state2=_this.state,width=_this$state2.width,height=_this$state2.height;if(_this._minMaxCache&&_this._minMaxCache[0]===zoom&&_this._minMaxCache[1]===width&&_this._minMaxCache[2]===height)return _this._minMaxCache[3];var pixelsAtZoom=256*Math.pow(2,zoom),minLng=width>pixelsAtZoom?0:tile2lng(width/512,zoom),minLat=height>pixelsAtZoom?0:tile2lat(Math.pow(2,zoom)-height/512,zoom),maxLng=width>pixelsAtZoom?0:tile2lng(Math.pow(2,zoom)-width/512,zoom),minMax=[minLat,height>pixelsAtZoom?0:tile2lat(height/512,zoom),minLng,maxLng];return _this._minMaxCache=[zoom,width,height,minMax],minMax}),_defineProperty(_assertThisInitialized(_this),"tileLoaded",function(key){_this._loadTracker&&key in _this._loadTracker&&(_this._loadTracker[key]=!0,0===Object.values(_this._loadTracker).filter(function(v){return!v}).length&&_this.setState({oldTiles:[]},NOOP))}),_defineProperty(_assertThisInitialized(_this),"handleTouchStart",function(event){if(_this._containerRef&&(!event.target||!parentHasClass(event.target,"pigeon-drag-block")))if(1===event.touches.length){var touch=event.touches[0],pixel=getMousePixel(_this._containerRef,touch);if(_this.coordsInside(pixel)&&(_this._touchStartPixel=[pixel],!_this.props.twoFingerDrag))if(_this.stopAnimating(),_this._lastTap&&performanceNow()-_this._lastTap<300){event.preventDefault();var latLngNow=_this.pixelToLatLng(_this._touchStartPixel[0]);_this.setCenterZoomTarget(null,Math.max(_this.props.minZoom,Math.min(_this.state.zoom+1,_this.props.maxZoom)),!1,latLngNow)}else _this._lastTap=performanceNow(),_this.trackMoveEvents(pixel)}else if(2===event.touches.length&&_this._touchStartPixel){event.preventDefault(),_this.stopTrackingMoveEvents(),(_this.state.pixelDelta||_this.state.zoomDelta)&&_this.sendDeltaChange();var t1=getMousePixel(_this._containerRef,event.touches[0]),t2=getMousePixel(_this._containerRef,event.touches[1]);_this._touchStartPixel=[t1,t2],_this._touchStartMidPoint=[(t1[0]+t2[0])/2,(t1[1]+t2[1])/2],_this._touchStartDistance=Math.sqrt(Math.pow(t1[0]-t2[0],2)+Math.pow(t1[1]-t2[1],2))}}),_defineProperty(_assertThisInitialized(_this),"handleTouchMove",function(event){if(_this._containerRef){if(1===event.touches.length&&_this._touchStartPixel){var touch=event.touches[0],pixel=getMousePixel(_this._containerRef,touch);_this.props.twoFingerDrag?_this.coordsInside(pixel)&&_this.showWarning("fingers"):(event.preventDefault(),_this.trackMoveEvents(pixel),_this.setState({pixelDelta:[pixel[0]-_this._touchStartPixel[0][0],pixel[1]-_this._touchStartPixel[0][1]]},NOOP))}else if(2===event.touches.length&&_this._touchStartPixel&&_this._touchStartMidPoint&&_this._touchStartDistance){var _this$state3=_this.state,width=_this$state3.width,height=_this$state3.height,zoom=_this$state3.zoom;event.preventDefault();var t1=getMousePixel(_this._containerRef,event.touches[0]),t2=getMousePixel(_this._containerRef,event.touches[1]),midPoint=[(t1[0]+t2[0])/2,(t1[1]+t2[1])/2],midPointDiff=[midPoint[0]-_this._touchStartMidPoint[0],midPoint[1]-_this._touchStartMidPoint[1]],distance=Math.sqrt(Math.pow(t1[0]-t2[0],2)+Math.pow(t1[1]-t2[1],2)),zoomDelta=Math.max(_this.props.minZoom,Math.min(_this.props.maxZoom,zoom+Math.log2(distance/_this._touchStartDistance)))-zoom,scale=Math.pow(2,zoomDelta),centerDiffDiff=[(width/2-midPoint[0])*(scale-1),(height/2-midPoint[1])*(scale-1)];_this.setState({zoomDelta,pixelDelta:[centerDiffDiff[0]+midPointDiff[0]*scale,centerDiffDiff[1]+midPointDiff[1]*scale]},NOOP)}}else _this._touchStartPixel=null}),_defineProperty(_assertThisInitialized(_this),"handleTouchEnd",function(event){if(_this._containerRef){if(_this._touchStartPixel){var _this$props=_this.props,zoomSnap=_this$props.zoomSnap,twoFingerDrag=_this$props.twoFingerDrag,minZoom=_this$props.minZoom,maxZoom=_this$props.maxZoom,zoomDelta=_this.state.zoomDelta,_this$sendDeltaChange=_this.sendDeltaChange(),center=_this$sendDeltaChange.center,zoom=_this$sendDeltaChange.zoom;if(0===event.touches.length)if(twoFingerDrag)_this.clearWarning();else{var oldTouchPixel=_this._touchStartPixel[0],newTouchPixel=getMousePixel(_this._containerRef,event.changedTouches[0]);(Math.abs(oldTouchPixel[0]-newTouchPixel[0])>2||Math.abs(oldTouchPixel[1]-newTouchPixel[1])>2)&&(!_this._secondTouchEnd||performanceNow()-_this._secondTouchEnd>300)&&(event.preventDefault(),_this.throwAfterMoving(newTouchPixel,center,zoom)),_this._touchStartPixel=null,_this._secondTouchEnd=null}else if(1===event.touches.length){event.preventDefault();var touch=getMousePixel(_this._containerRef,event.touches[0]);if(_this._secondTouchEnd=performanceNow(),_this._touchStartPixel=[touch],_this.trackMoveEvents(touch),zoomSnap){var zoomTarget,latLng=_this._touchStartMidPoint?_this.pixelToLatLng(_this._touchStartMidPoint):_this.state.center;zoomTarget=twoFingerDrag&&Math.round(_this.state.zoom)===Math.round(_this.state.zoom+zoomDelta)?Math.round(_this.state.zoom):zoomDelta>0?Math.ceil(_this.state.zoom):Math.floor(_this.state.zoom);var _zoom=Math.max(minZoom,Math.min(zoomTarget,maxZoom));_this.setCenterZoomTarget(latLng,_zoom,!1,latLng)}}}}else _this._touchStartPixel=null}),_defineProperty(_assertThisInitialized(_this),"handleMouseDown",function(event){if(_this._containerRef){var pixel=getMousePixel(_this._containerRef,event);if(0===event.button&&(!event.target||!parentHasClass(event.target,"pigeon-drag-block"))&&_this.coordsInside(pixel))if(_this.stopAnimating(),event.preventDefault(),_this._lastClick&&performanceNow()-_this._lastClick<300){if(!parentHasClass(event.target,"pigeon-click-block")){var latLngNow=_this.pixelToLatLng(_this._mousePosition||pixel);_this.setCenterZoomTarget(null,Math.max(_this.props.minZoom,Math.min(_this.state.zoom+1,_this.props.maxZoom)),!1,latLngNow)}}else _this._lastClick=performanceNow(),_this._mouseDown=!0,_this._dragStart=pixel,_this.trackMoveEvents(pixel)}}),_defineProperty(_assertThisInitialized(_this),"handleMouseMove",function(event){_this._containerRef&&(_this._mousePosition=getMousePixel(_this._containerRef,event),_this._mouseDown&&_this._dragStart&&(_this.trackMoveEvents(_this._mousePosition),_this.setState({pixelDelta:[_this._mousePosition[0]-_this._dragStart[0],_this._mousePosition[1]-_this._dragStart[1]]},NOOP)))}),_defineProperty(_assertThisInitialized(_this),"handleMouseUp",function(event){if(_this._containerRef){var pixelDelta=_this.state.pixelDelta;if(_this._mouseDown){_this._mouseDown=!1;var pixel=getMousePixel(_this._containerRef,event);if(!_this.props.onClick||event.target&&parentHasClass(event.target,"pigeon-click-block")||pixelDelta&&!(Math.abs(pixelDelta[0])+Math.abs(pixelDelta[1])<=2)){var _this$sendDeltaChange2=_this.sendDeltaChange(),center=_this$sendDeltaChange2.center,zoom=_this$sendDeltaChange2.zoom;_this.throwAfterMoving(pixel,center,zoom)}else{var latLng=_this.pixelToLatLng(pixel);_this.props.onClick({event,latLng,pixel}),_this.setState({pixelDelta:void 0},NOOP)}}}else _this._mouseDown=!1}),_defineProperty(_assertThisInitialized(_this),"stopTrackingMoveEvents",function(){_this._moveEvents=[]}),_defineProperty(_assertThisInitialized(_this),"trackMoveEvents",function(coords){var timestamp=performanceNow();(0===_this._moveEvents.length||timestamp-_this._moveEvents[_this._moveEvents.length-1].timestamp>40)&&(_this._moveEvents.push({timestamp,coords}),_this._moveEvents.length>2&&_this._moveEvents.shift())}),_defineProperty(_assertThisInitialized(_this),"throwAfterMoving",function(coords,center,zoom){var _this$state4=_this.state,width=_this$state4.width,height=_this$state4.height,animate=_this.props.animate,timestamp=performanceNow(),lastEvent=_this._moveEvents.shift();if(lastEvent&&animate){var deltaMs=Math.max(timestamp-lastEvent.timestamp,1),delta=[(coords[0]-lastEvent.coords[0])/deltaMs*120,(coords[1]-lastEvent.coords[1])/deltaMs*120],distance=Math.sqrt(delta[0]*delta[0]+delta[1]*delta[1]);if(distance>40){var throwTime=1500*distance/Math.sqrt(width*width+height*height),lng=tile2lng(lng2tile(center[1],zoom)-delta[0]/256,zoom),lat=tile2lat(lat2tile(center[0],zoom)-delta[1]/256,zoom);_this.setCenterZoomTarget([lat,lng],zoom,!1,null,throwTime)}}_this.stopTrackingMoveEvents()}),_defineProperty(_assertThisInitialized(_this),"sendDeltaChange",function(){var _this$state5=_this.state,center=_this$state5.center,zoom=_this$state5.zoom,pixelDelta=_this$state5.pixelDelta,zoomDelta=_this$state5.zoomDelta,lat=center[0],lng=center[1];return(pixelDelta||0!==zoomDelta)&&(lng=tile2lng(lng2tile(center[1],zoom+zoomDelta)-(pixelDelta?pixelDelta[0]/256:0),zoom+zoomDelta),lat=tile2lat(lat2tile(center[0],zoom+zoomDelta)-(pixelDelta?pixelDelta[1]/256:0),zoom+zoomDelta),_this.setCenterZoom([lat,lng],zoom+zoomDelta)),_this.setState({pixelDelta:void 0,zoomDelta:0},NOOP),{center:_this.limitCenterAtZoom([lat,lng],zoom+zoomDelta),zoom:zoom+zoomDelta}}),_defineProperty(_assertThisInitialized(_this),"getBounds",function(center,zoom){void 0===center&&(center=_this.state.center),void 0===zoom&&(zoom=_this.zoomPlusDelta());var _this$state6=_this.state,width=_this$state6.width,height=_this$state6.height;return{ne:_this.pixelToLatLng([width-1,0],center,zoom),sw:_this.pixelToLatLng([0,height-1],center,zoom)}}),_defineProperty(_assertThisInitialized(_this),"syncToProps",function(center,zoom){void 0===center&&(center=_this.state.center),void 0===zoom&&(zoom=_this.state.zoom);var onBoundsChanged=_this.props.onBoundsChanged;onBoundsChanged&&(onBoundsChanged({center,zoom,bounds:_this.getBounds(center,zoom),initial:!_this._boundsSynced}),_this._boundsSynced=!0)}),_defineProperty(_assertThisInitialized(_this),"handleWheel",function(event){var _this$props2=_this.props,mouseEvents=_this$props2.mouseEvents,metaWheelZoom=_this$props2.metaWheelZoom,zoomSnap=_this$props2.zoomSnap,animate=_this$props2.animate;if(mouseEvents)if(!metaWheelZoom||event.metaKey||event.ctrlKey){event.preventDefault();var addToZoom=-event.deltaY/150;if(!zoomSnap&&_this._zoomTarget){var stillToAdd=_this._zoomTarget-_this.state.zoom;_this.zoomAroundMouse(addToZoom+stillToAdd,event)}else animate?_this.zoomAroundMouse(addToZoom,event):(!_this._lastWheel||performanceNow()-_this._lastWheel>300)&&(_this._lastWheel=performanceNow(),_this.zoomAroundMouse(addToZoom,event))}else _this.showWarning("wheel")}),_defineProperty(_assertThisInitialized(_this),"showWarning",function(warningType){_this.state.showWarning&&_this.state.warningType===warningType||_this.setState({showWarning:!0,warningType}),_this._warningClearTimeout&&window.clearTimeout(_this._warningClearTimeout),_this._warningClearTimeout=window.setTimeout(_this.clearWarning,300)}),_defineProperty(_assertThisInitialized(_this),"clearWarning",function(){_this.state.showWarning&&_this.setState({showWarning:!1})}),_defineProperty(_assertThisInitialized(_this),"zoomAroundMouse",function(zoomDiff,event){if(_this._containerRef){var zoom=_this.state.zoom,_this$props3=_this.props,minZoom=_this$props3.minZoom,maxZoom=_this$props3.maxZoom,zoomSnap=_this$props3.zoomSnap;if(_this._mousePosition=getMousePixel(_this._containerRef,event),!(!_this._mousePosition||zoom===minZoom&&zoomDiff<0||zoom===maxZoom&&zoomDiff>0)){var latLngNow=_this.pixelToLatLng(_this._mousePosition),zoomTarget=zoom+zoomDiff;zoomSnap&&(zoomTarget=zoomDiff<0?Math.floor(zoomTarget):Math.ceil(zoomTarget)),zoomTarget=Math.max(minZoom,Math.min(zoomTarget,maxZoom)),_this.setCenterZoomTarget(null,zoomTarget,!1,latLngNow)}}}),_defineProperty(_assertThisInitialized(_this),"zoomPlusDelta",function(){return _this.state.zoom+_this.state.zoomDelta}),_defineProperty(_assertThisInitialized(_this),"pixelToLatLng",function(pixel,center,zoom){void 0===center&&(center=_this.state.center),void 0===zoom&&(zoom=_this.zoomPlusDelta());var _this$state7=_this.state,width=_this$state7.width,height=_this$state7.height,pixelDelta=_this$state7.pixelDelta,pointDiff=[(pixel[0]-width/2-(pixelDelta?pixelDelta[0]:0))/256,(pixel[1]-height/2-(pixelDelta?pixelDelta[1]:0))/256],tileX=lng2tile(center[1],zoom)+pointDiff[0],tileY=lat2tile(center[0],zoom)+pointDiff[1];return[Math.max(absoluteMinMax[0],Math.min(absoluteMinMax[1],tile2lat(tileY,zoom))),Math.max(absoluteMinMax[2],Math.min(absoluteMinMax[3],tile2lng(tileX,zoom)))]}),_defineProperty(_assertThisInitialized(_this),"latLngToPixel",function(latLng,center,zoom){void 0===center&&(center=_this.state.center),void 0===zoom&&(zoom=_this.zoomPlusDelta());var _this$state8=_this.state,width=_this$state8.width,height=_this$state8.height,pixelDelta=_this$state8.pixelDelta,tileCenterX=lng2tile(center[1],zoom),tileCenterY=lat2tile(center[0],zoom),tileX=lng2tile(latLng[1],zoom),tileY=lat2tile(latLng[0],zoom);return[256*(tileX-tileCenterX)+width/2+(pixelDelta?pixelDelta[0]:0),256*(tileY-tileCenterY)+height/2+(pixelDelta?pixelDelta[1]:0)]}),_defineProperty(_assertThisInitialized(_this),"calculateZoomCenter",function(center,coords,oldZoom,newZoom){var _this$state9=_this.state,width=_this$state9.width,height=_this$state9.height,pixelBefore=_this.latLngToPixel(coords,center,oldZoom),pixelAfter=_this.latLngToPixel(coords,center,newZoom),newCenter=_this.pixelToLatLng([width/2+pixelAfter[0]-pixelBefore[0],height/2+pixelAfter[1]-pixelBefore[1]],center,newZoom);return _this.limitCenterAtZoom(newCenter,newZoom)}),_defineProperty(_assertThisInitialized(_this),"setRef",function(dom){_this._containerRef=dom}),_this.syncToProps=function debounce(func,wait){var timeout;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var context=this;clearTimeout(timeout),timeout=setTimeout(function(){return func.apply(context,args)},wait)}}(_this.syncToProps,60),_this._lastZoom=null!==(_ref2=null!==(_props$defaultZoom=props.defaultZoom)&&void 0!==_props$defaultZoom?_props$defaultZoom:props.zoom)&&void 0!==_ref2?_ref2:14,_this._lastCenter=null!==(_ref3=null!==(_props$defaultCenter=props.defaultCenter)&&void 0!==_props$defaultCenter?_props$defaultCenter:props.center)&&void 0!==_ref3?_ref3:[0,0],_this.state={zoom:_this._lastZoom,center:_this._lastCenter,width:null!==(_ref4=null!==(_props$width=props.width)&&void 0!==_props$width?_props$width:props.defaultWidth)&&void 0!==_ref4?_ref4:-1,height:null!==(_ref5=null!==(_props$height=props.height)&&void 0!==_props$height?_props$height:props.defaultHeight)&&void 0!==_ref5?_ref5:-1,zoomDelta:0,pixelDelta:void 0,oldTiles:[],showWarning:!1,warningType:void 0},_this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(Map,_Component);var _proto=Map.prototype;return _proto.componentDidMount=function componentDidMount(){var _this2=this;this.props.mouseEvents&&this.bindMouseEvents(),this.props.touchEvents&&this.bindTouchEvents(),this.props.width&&this.props.height||(this.updateWidthHeight()||requestAnimationFrame(this.updateWidthHeight),this.bindResizeEvent()),this.bindWheelEvent(),this.syncToProps(),void 0!==window.ResizeObserver&&(this._resizeObserver=new window.ResizeObserver(function(){_this2.updateWidthHeight()}),this._resizeObserver.observe(this._containerRef))},_proto.componentWillUnmount=function componentWillUnmount(){this.props.mouseEvents&&this.unbindMouseEvents(),this.props.touchEvents&&this.unbindTouchEvents(),this.unbindWheelEvent(),this.props.width&&this.props.height||this.unbindResizeEvent(),this._resizeObserver&&this._resizeObserver.disconnect()},_proto.componentDidUpdate=function componentDidUpdate(prevProps){var _prevProps$center;if(this.props.mouseEvents!==prevProps.mouseEvents&&(this.props.mouseEvents?this.bindMouseEvents():this.unbindMouseEvents()),this.props.touchEvents!==prevProps.touchEvents&&(this.props.touchEvents?this.bindTouchEvents():this.unbindTouchEvents()),this.props.width&&this.props.width!==prevProps.width&&this.setState({width:this.props.width}),this.props.height&&this.props.height!==prevProps.height&&this.setState({height:this.props.height}),(this.props.center||this.props.zoom)&&(this.props.center&&(this.props.center[0]!==(null==prevProps||null===(_prevProps$center=prevProps.center)||void 0===_prevProps$center?void 0:_prevProps$center[0])||this.props.center[1]!==prevProps.center[1])||this.props.zoom!==prevProps.zoom)){var currentCenter=this._isAnimating?this._centerTarget:this.state.center,currentZoom=this._isAnimating?this._zoomTarget:this.state.zoom;if(currentCenter&&currentZoom){var _this$props$center,_this$props$zoom,nextCenter=null!==(_this$props$center=this.props.center)&&void 0!==_this$props$center?_this$props$center:currentCenter,nextZoom=null!==(_this$props$zoom=this.props.zoom)&&void 0!==_this$props$zoom?_this$props$zoom:currentZoom;(Math.abs(nextZoom-currentZoom)>.001||Math.abs(nextCenter[0]-currentCenter[0])>1e-4||Math.abs(nextCenter[1]-currentCenter[1])>1e-4)&&this.setCenterZoomTarget(nextCenter,nextZoom,!0)}}},_proto.coordsInside=function coordsInside(pixel){var _this$state10=this.state,width=_this$state10.width,height=_this$state10.height;if(pixel[0]<0||pixel[1]<0||pixel[0]>=width||pixel[1]>=height)return!1;var parent=this._containerRef;if(parent){var pos=parentPosition(parent),element=document.elementFromPoint(pixel[0]+pos.x,pixel[1]+pos.y);return parent===element||parent.contains(element)}return!1},_proto.tileValues=function tileValues(_ref6){var center=_ref6.center,zoom=_ref6.zoom,pixelDelta=_ref6.pixelDelta,zoomDelta=_ref6.zoomDelta,width=_ref6.width,height=_ref6.height,roundedZoom=Math.round(zoom+(zoomDelta||0)),zoomDiff=zoom+(zoomDelta||0)-roundedZoom,scale=Math.pow(2,zoomDiff),scaleWidth=width/scale,scaleHeight=height/scale,tileCenterX=lng2tile(center[1],roundedZoom)-(pixelDelta?pixelDelta[0]/256/scale:0),tileCenterY=lat2tile(center[0],roundedZoom)-(pixelDelta?pixelDelta[1]/256/scale:0),halfWidth=scaleWidth/2/256,halfHeight=scaleHeight/2/256;return{tileMinX:Math.floor(tileCenterX-halfWidth),tileMaxX:Math.floor(tileCenterX+halfWidth),tileMinY:Math.floor(tileCenterY-halfHeight),tileMaxY:Math.floor(tileCenterY+halfHeight),tileCenterX,tileCenterY,roundedZoom,zoomDelta:zoomDelta||0,scaleWidth,scaleHeight,scale}},_proto.renderTiles=function renderTiles(){for(var _this3=this,_this$state11=this.state,oldTiles=_this$state11.oldTiles,width=_this$state11.width,height=_this$state11.height,dprs=this.props.dprs,mapUrl=this.props.provider||osm,_this$tileValues=this.tileValues(this.state),tileMinX=_this$tileValues.tileMinX,tileMaxX=_this$tileValues.tileMaxX,tileMinY=_this$tileValues.tileMinY,tileMaxY=_this$tileValues.tileMaxY,tileCenterX=_this$tileValues.tileCenterX,tileCenterY=_this$tileValues.tileCenterY,roundedZoom=_this$tileValues.roundedZoom,scaleWidth=_this$tileValues.scaleWidth,scaleHeight=_this$tileValues.scaleHeight,scale=_this$tileValues.scale,tiles=[],i=0;i<oldTiles.length;i++){var old=oldTiles[i],zoomDiff=old.roundedZoom-roundedZoom;if(!(Math.abs(zoomDiff)>4||0===zoomDiff))for(var pow=1/Math.pow(2,zoomDiff),xDiff=256*-(tileMinX-old.tileMinX*pow),yDiff=256*-(tileMinY-old.tileMinY*pow),_xMin=Math.max(old.tileMinX,0),_yMin=Math.max(old.tileMinY,0),_xMax=Math.min(old.tileMaxX,Math.pow(2,old.roundedZoom)-1),_yMax=Math.min(old.tileMaxY,Math.pow(2,old.roundedZoom)-1),x=_xMin;x<=_xMax;x++)for(var y=_yMin;y<=_yMax;y++)tiles.push({key:x+"-"+y+"-"+old.roundedZoom,url:mapUrl(x,y,old.roundedZoom),srcSet:srcSet(dprs,mapUrl,x,y,old.roundedZoom),left:xDiff+256*(x-old.tileMinX)*pow,top:yDiff+256*(y-old.tileMinY)*pow,width:256*pow,height:256*pow,active:!1})}for(var xMin=Math.max(tileMinX,0),yMin=Math.max(tileMinY,0),xMax=Math.min(tileMaxX,Math.pow(2,roundedZoom)-1),yMax=Math.min(tileMaxY,Math.pow(2,roundedZoom)-1),_x=xMin;_x<=xMax;_x++)for(var _y=yMin;_y<=yMax;_y++)tiles.push({key:_x+"-"+_y+"-"+roundedZoom,url:mapUrl(_x,_y,roundedZoom),srcSet:srcSet(dprs,mapUrl,_x,_y,roundedZoom),left:256*(_x-tileMinX),top:256*(_y-tileMinY),width:256,height:256,active:!0});var boxStyle={width:scaleWidth,height:scaleHeight,position:"absolute",top:"calc((100% - "+height+"px) / 2)",left:"calc((100% - "+width+"px) / 2)",overflow:"hidden",willChange:"transform",transform:"scale("+scale+", "+scale+")",transformOrigin:"top left"},boxClassname=this.props.boxClassname||"pigeon-tiles-box",tilesStyle={position:"absolute",width:256*(tileMaxX-tileMinX+1),height:256*(tileMaxY-tileMinY+1),willChange:"transform",transform:"translate("+-(256*(tileCenterX-tileMinX)-scaleWidth/2)+"px, "+-(256*(tileCenterY-tileMinY)-scaleHeight/2)+"px)"},Tile=this.props.tileComponent;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:boxStyle,className:boxClassname},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"pigeon-tiles",style:tilesStyle},tiles.map(function(tile){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Tile,{key:tile.key,tile,tileLoaded:function tileLoaded(){return _this3.tileLoaded(tile.key)}})})))},_proto.renderOverlays=function renderOverlays(){var _this4=this,_this$state12=this.state,width=_this$state12.width,height=_this$state12.height,center=_this$state12.center,mapState={bounds:this.getBounds(),zoom:this.zoomPlusDelta(),center,width,height},childrenWithProps=react__WEBPACK_IMPORTED_MODULE_0__.Children.map(this.props.children,function(child){if(!child)return null;if(!react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child))return child;var _child$props=child.props,anchor=_child$props.anchor,position=_child$props.position,offset=_child$props.offset,c=_this4.latLngToPixel(anchor||position||center);return react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child,{left:c[0]-(offset?offset[0]:0),top:c[1]-(offset?offset[1]:0),latLngToPixel:_this4.latLngToPixel,pixelToLatLng:_this4.pixelToLatLng,setCenterZoom:_this4.setCenterZoomForChildren,mapProps:_this4.props,mapState})}),childrenStyle={position:"absolute",width,height,top:"calc((100% - "+height+"px) / 2)",left:"calc((100% - "+width+"px) / 2)"};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"pigeon-overlays",style:childrenStyle},childrenWithProps)},_proto.renderAttribution=function renderAttribution(){var _this$props4=this.props,attribution=_this$props4.attribution,attributionPrefix=_this$props4.attributionPrefix;if(!1===attribution)return null;var linkStyle={color:"#0078A8",textDecoration:"none"};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:"attr",className:"pigeon-attribution",style:{position:"absolute",bottom:0,right:0,fontSize:"11px",padding:"2px 5px",background:"rgba(255, 255, 255, 0.7)",fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",color:"#333"}},!1===attributionPrefix?null:react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,attributionPrefix||react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:"https://pigeon-maps.js.org/",style:linkStyle,target:"_blank",rel:"noreferrer noopener"},"Pigeon")," | "),attribution||react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null," © ",react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:"https://www.openstreetmap.org/copyright",style:linkStyle,target:"_blank",rel:"noreferrer noopener"},"OpenStreetMap")," contributors"))},_proto.renderWarning=function renderWarning(){var _this$props5=this.props,metaWheelZoom=_this$props5.metaWheelZoom,metaWheelZoomWarning=_this$props5.metaWheelZoomWarning,twoFingerDrag=_this$props5.twoFingerDrag,twoFingerDragWarning=_this$props5.twoFingerDragWarning,warningZIndex=_this$props5.warningZIndex,_this$state13=this.state,showWarning=_this$state13.showWarning,warningType=_this$state13.warningType,width=_this$state13.width,height=_this$state13.height;if(metaWheelZoom&&metaWheelZoomWarning||twoFingerDrag&&twoFingerDragWarning){var style={position:"absolute",top:0,left:0,width,height,overflow:"hidden",pointerEvents:"none",opacity:showWarning?100:0,transition:"opacity 300ms",background:"rgba(0,0,0,0.5)",color:"#fff",display:"flex",justifyContent:"center",alignItems:"center",fontSize:22,fontFamily:'"Arial", sans-serif',textAlign:"center",zIndex:warningZIndex},meta="undefined"!=typeof window&&window.navigator&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?"⌘":"ctrl",warningText="fingers"===warningType?twoFingerDragWarning:metaWheelZoomWarning;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"pigeon-overlay-warning",style},warningText.replace("META",meta))}return null},_proto.render=function render(){var _this$props6=this.props,touchEvents=_this$props6.touchEvents,twoFingerDrag=_this$props6.twoFingerDrag,_this$state14=this.state,width=_this$state14.width,height=_this$state14.height,containerStyle={width:this.props.width?width:"100%",height:this.props.height?height:"100%",position:"relative",display:"inline-block",overflow:"hidden",background:"#dddddd",touchAction:touchEvents?twoFingerDrag?"pan-x pan-y":"none":"auto"},hasSize=!(!width||!height);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:containerStyle,ref:this.setRef,dir:"ltr"},hasSize&&this.renderTiles(),hasSize&&this.renderOverlays(),hasSize&&this.renderAttribution(),hasSize&&this.renderWarning())},Map}(react__WEBPACK_IMPORTED_MODULE_0__.Component);function Marker(props){var width=void 0!==props.width?props.width:void 0!==props.height?29*props.height/34:29,height=void 0!==props.height?props.height:void 0!==props.width?34*props.width/29:34,_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(props.hover||!1),internalHover=_useState[0],setInternalHover=_useState[1],hover=void 0===props.hover?internalHover:props.hover,color=props.color||"#93C0D0",eventParameters=function eventParameters(event){return{event,anchor:props.anchor,payload:props.payload}};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:_objectSpread2({position:"absolute",transform:"translate("+(props.left-width/2)+"px, "+(props.top-(height-1))+"px)",filter:hover?"drop-shadow(0 0 4px rgba(0, 0, 0, .3))":"",pointerEvents:"none",cursor:"pointer"},props.style||{}),className:props.className?props.className+" pigeon-click-block":"pigeon-click-block",onClick:props.onClick?function(event){return props.onClick(eventParameters(event))}:null,onContextMenu:props.onContextMenu?function(event){return props.onContextMenu(eventParameters(event))}:null,onMouseOver:function onMouseOver(event){props.onMouseOver&&props.onMouseOver(eventParameters(event)),setInternalHover(!0)},onMouseOut:function onMouseOut(event){props.onMouseOut&&props.onMouseOut(eventParameters(event)),setInternalHover(!1)}},props.children||react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width,height,viewBox:"0 0 61 71",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{style:{pointerEvents:"auto"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M52 31.5C52 36.8395 49.18 42.314 45.0107 47.6094C40.8672 52.872 35.619 57.678 31.1763 61.6922C30.7916 62.0398 30.2084 62.0398 29.8237 61.6922C25.381 57.678 20.1328 52.872 15.9893 47.6094C11.82 42.314 9 36.8395 9 31.5C9 18.5709 18.6801 9 30.5 9C42.3199 9 52 18.5709 52 31.5Z",fill:color,stroke:"white",strokeWidth:"4"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{cx:"30.5",cy:"30.5",r:"8.5",fill:"white",opacity:hover?.98:.6}))))}function Overlay(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:_objectSpread2({position:"absolute",transform:"translate("+props.left+"px, "+props.top+"px)"},props.style||{}),className:props.className?props.className+" pigeon-click-block":"pigeon-click-block"},props.children)}_defineProperty(Map,"defaultProps",{animate:!0,metaWheelZoom:!1,metaWheelZoomWarning:"Use META + wheel to zoom!",twoFingerDrag:!1,twoFingerDragWarning:"Use two fingers to move the map",zoomSnap:!0,mouseEvents:!0,touchEvents:!0,warningZIndex:100,animateMaxScreens:5,minZoom:1,maxZoom:18,limitBounds:"center",dprs:[],tileComponent:function ImgTile(_ref){var tile=_ref.tile,tileLoaded=_ref.tileLoaded;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{src:tile.url,srcSet:tile.srcSet,width:tile.width,height:tile.height,loading:"lazy",onLoad:tileLoaded,alt:"",style:{position:"absolute",left:tile.left,top:tile.top,willChange:"transform",transformOrigin:"top left",opacity:1}})}});var commonStyle={position:"absolute",top:10,left:10},commonButtonStyle={width:28,height:28,borderRadius:2,boxShadow:"0 1px 4px -1px rgba(0,0,0,.3)",background:"white",lineHeight:"26px",fontSize:"20px",fontWeight:700,color:"#666",marginBottom:1,cursor:"pointer",border:"none",display:"block",outline:"none"};function ZoomControl(_ref){var style=_ref.style,buttonStyle=_ref.buttonStyle,setCenterZoom=_ref.setCenterZoom,mapState=_ref.mapState,mapProps=_ref.mapProps;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"pigeon-zoom-buttons pigeon-drag-block",style:style?_objectSpread2(_objectSpread2({},commonStyle),style):commonStyle},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"pigeon-zoom-in",type:"button",style:buttonStyle?_objectSpread2(_objectSpread2({},commonButtonStyle),buttonStyle):commonButtonStyle,onClick:function onClick(){return setCenterZoom(mapState.center,Math.min(mapState.zoom+1,mapProps.maxZoom))}},"+"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"pigeon-zoom-out",type:"button",style:buttonStyle?_objectSpread2(_objectSpread2({},commonButtonStyle),buttonStyle):commonButtonStyle,onClick:function onClick(){return setCenterZoom(mapState.center,Math.max(mapState.zoom-1,mapProps.minZoom))}},"–"))}},'../node_modules/.pnpm/scoobie@21.1.0_babel-plugin-macros@3.1.0_braid-design-system@34.0.1_@types+react@18.3.2_941f5c88ee5320a0c25233ebd7aaa008/node_modules/scoobie/src/node_modules/.pnpm/scoobie@21.1.0_babel-plugin-macros@3.1.0_braid-design-system@34.0.1_@types+react@18.3.2_941f5c88ee5320a0c25233ebd7aaa008/node_modules/scoobie/src/private/font.css.ts.vanilla.css!=!../node_modules/.pnpm/@vanilla-extract+webpack-plugin@2.3.25_babel-plugin-macros@3.1.0_webpack@5.104.1_@swc+core@1.15.10_/node_modules/@vanilla-extract/webpack-plugin/virtualFileLoader/dist/vanilla-extract-webpack-plugin-virtualFileLoader.cjs.js?{"fileName":"../node_modules/.pnpm/scoobie@21.1.0_babel-plugin-macros@3.1.0_braid-design-system@34.0.1_@types+react@18.3.2_941f5c88ee5320a0c25233ebd7aaa008/node_modules/scoobie/src/private/font.css.ts.vanilla.css","source":"LnJxNGhzODAgewogIGZvbnQtZmFtaWx5OiAnUm9ib3RvIE1vbm8nLFNGTW9uby1SZWd1bGFyLENvbnNvbGFzLExpYmVyYXRpb24gTW9ubyxNZW5sbyxtb25vc3BhY2U7CiAgZm9udC1zaXplOiAxNHB4OwogIGxpbmUtaGVpZ2h0OiAyMHB4Owp9Ci5ycTRoczgwOjpiZWZvcmUgewogIGNvbnRlbnQ6ICcnOwogIG1hcmdpbi1ib3R0b206IC0wLjM5MThlbTsKICBkaXNwbGF5OiB0YWJsZTsKfQoucnE0aHM4MDo6YWZ0ZXIgewogIGNvbnRlbnQ6ICcnOwogIG1hcmdpbi10b3A6IC0wLjMyNTllbTsKICBkaXNwbGF5OiB0YWJsZTsKfQpAbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NDBweCkgewogIC5ycTRoczgwIHsKICAgIGZvbnQtc2l6ZTogMTRweDsKICAgIGxpbmUtaGVpZ2h0OiAyMHB4OwogIH0KICAucnE0aHM4MDo6YmVmb3JlIHsKICAgIGNvbnRlbnQ6ICcnOwogICAgbWFyZ2luLWJvdHRvbTogLTAuMzkxOGVtOwogICAgZGlzcGxheTogdGFibGU7CiAgfQogIC5ycTRoczgwOjphZnRlciB7CiAgICBjb250ZW50OiAnJzsKICAgIG1hcmdpbi10b3A6IC0wLjMyNTllbTsKICAgIGRpc3BsYXk6IHRhYmxlOwogIH0KfQ"}!../node_modules/.pnpm/@vanilla-extract+webpack-plugin@2.3.25_babel-plugin-macros@3.1.0_webpack@5.104.1_@swc+core@1.15.10_/node_modules/@vanilla-extract/webpack-plugin/extracted.js'(){}}]);